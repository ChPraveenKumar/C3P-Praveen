<div class="container main-pg">

	<div class="row">

		<!--    Page Header Section     -->
		<app-header></app-header>
		<div class="pg-bdy">
			<!-- Breadcrumb Section -->
			<ul class="breadcrumb">
				<li>
					<a routerLink="/Home">C3P</a>
				</li>
				<li class="breadcrumbLabel">Admin</li>
				<li class="breadcrumbLabel">Settings</li>
				<li class="breadcrumbLabel">Response Analyser</li>
				<li class="active">Alert/Notification Management</li>
			</ul>
			<div class="panel form-inline border-top mt-5 lbl-normal cmp-normal">
				<!--    Customer Information     -->
				<section>
					<div class="row col-md-12">
						<div class="col-lg-6 mb-15">
							<h2 class="title second-title">Alert/ Notification</h2>

						</div>

					</div>
					<!-- Start of new alert/Notification PopUp-->
					<div id="addPopUp" class="popup">
						<div id="addPopUpContainer" ngDraggable class="popUpContainer">
							<!-- Modal content -->
							<form id="newAlertNoti" name="newAlertNotiForm" novalidate>
								<div class="popup-content">
									<div id="addPopUpContainerHeader" class="col-lg-6 col-lg-offset-3 popup-content-header">
										<span class="small_logo_icon"></span>
										<label class="report-header-style">
											<h4>Alert/Notification Management</h4>
										</label>
										<span class="report-close-icon" (click)="closeNewAddPopUp('addPopUp')"></span>
									</div>
									<div class="addPopUpContainer col-lg-6 col-lg-offset-3" style="height: 200px;">
										<div class="row mt-50">
											<div class="col-lg-6 form-group">
												<label class="col-lg-4 text-right addPopUpField">Type :</label>
												<div class="col-lg-8">
													<div class="styled-select">
														<select required class="addPopUpField type" name="addAlertNotiType" (change)="generateNewCode(addAlertNotiType)" [(ngModel)]="addAlertNotiType">
															<option value="">Select</option>
															<option value="Alert">Alert</option>
															<option value="Notification">Notification</option>
														</select>
														<span class="caret-container">
															<span class="caret"></span>
														</span>
													</div>
												</div>
											</div>
											<div class="col-lg-6 form-group">
												<label class="col-lg-4 text-right">Category :</label>
												<div class="col-lg-8">
													<div class="styled-select">
														<select required class="addPopUpField category" value="Select" name="addAlertNotiCategory" [(ngModel)]="addAlertNotiCategory">
															<option value="">Select</option>
															<option value="Configuration Generation">Configuration Generation</option>
															<option value="Pre Test">Pre Test</option>
															<option value="Certification Test">Certification Test</option>
														</select>
														<span class="caret-container">
															<span class="caret"></span>
														</span>
													</div>
												</div>
											</div>

											<div class="col-lg-6 mt-15">
												<label class="col-lg-4 text-right">Description :</label>
												<div class="col-lg-8">
													<input required type="text" class="form-control width100 addPopUpField" name="addAlertNotiDesc" [(ngModel)]="addAlertNotiDesc"
													 maxlength="20">
												</div>
											</div>
											<div class="col-lg-6 mt-15">
												<label class="col-lg-4 text-right">Code :</label>
												<div class="col-lg-8">
													<input type="text" required disabled class="form-control width100 disabled" name="addAlertNotiCode" [(ngModel)]="addAlertNotiCode"
													 value="addAlertNotiCode">
												</div>
											</div>
											<div class="col-lg-6 mb-15">
												<label class="text-right col-lg-6 mt-15">All fields are required</label>
											</div>
											<div class="col-lg-6 mt-15">
												<div class="pull-right">
													<button class="btn btn-primary" type="submit" (click)=" addNewAlertNotiData('newAlertNoti', addAlertNotiType, addAlertNotiCategory,addAlertNotiDesc,addAlertNotiCode)">Save</button>
													<button class="btn btn-default mr-15" type="button" (click)="resetAlertNotiData()">Reset</button>

												</div>
											</div>
										</div>

									</div>
								</div>
							</form>
						</div>
					</div>
					<!-- End of new alert/Notification PopUp-->

					<!-- Start of Edit PopUp -->
					<div id="editPopUp" class="popup">
						<div id="editPopUpContainer" ngDraggable class="popUpContainer">
							<!-- Modal content -->
							<div class="popup-content">
								<div id="editPopUpContainer" class="col-lg-6 col-lg-offset-3 popup-content-header">
									<span class="small_logo_icon"></span>
									<label class="report-header-style">
										<h4>Alert/Notification Management</h4>
									</label>
									<span class="report-close-icon" (click)="closeEditPopUp('editPopUp')"></span>
								</div>
								<div class="addPopUpContainer col-lg-6 col-lg-offset-3" style="height: 200px;">
									<div class="row mt-50">
										<div class="col-lg-6 form-group">
											<label class="col-lg-4 text-right">Type :</label>
											<div class="col-lg-8">
												<div class="styled-select">
													<select required disabled class="updateAlertNoti" name="editAlertNotiType" [(ngModel)]="editAlertNotiType">
														<option value="">Select</option>
														<option value="Alert">Alert</option>
														<option value="Notification">Notification</option>
													</select>
													<span class="caret-container">
														<span class="caret"></span>
													</span>
												</div>
											</div>
										</div>
										<div class="col-lg-6 form-group">
											<label class="col-lg-4 text-right">Category :</label>
											<div class="col-lg-8">
												<div class="styled-select">
													<select required disabled class="updateAlertNoti" name="editAlertNotiCategory" [(ngModel)]="editAlertNotiCategory">
														<option value="">Select</option>
														<option value="Configuration Generation">Configuration Generation</option>
														<option value="Pre Test">Pre Test</option>
														<option value="Certification Test">Certification Test</option>
													</select>
													<span class="caret-container">
														<span class="caret"></span>
													</span>
												</div>
											</div>
										</div>

										<div class="col-lg-6 mt-15">
											<label class="col-lg-4 text-right">Description :</label>
											<div class="col-lg-8">
												<input type="text" required class="form-control width100 updateAlertNoti" name="editAlertNotiDesc" [(ngModel)]="editAlertNotiDesc"
												 maxlength="20">
											</div>
										</div>
										<div class="col-lg-6 mt-15">
											<label class="col-lg-4 text-right">Code :</label>
											<div class="col-lg-8">
												<input type="text" required disabled class="form-control width100 updateAlertNoti" name="editAlertNotiCode" [(ngModel)]="editAlertNotiCode">
											</div>
										</div>

										<div class="col-lg-12 mt-15">
											<div class="pull-right">
												<button class="btn btn-primary" (click)="updateAlertNotiData(editAlertNotiType, editAlertNotiCategory, editAlertNotiDesc, editAlertNotiCode)">Save</button>
												<!--  <button class="btn btn-default mr-15" ng-click="resetAlertNotiData()">Reset</button> -->

											</div>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>
					<!-- End of Edit PopUp -->

					<div *ngIf="showLoader" class="loader">
						loading
					</div>

					<div class="row col-md-12">
						<div class="col-lg-3 form-group">
							<label>Code :</label>
							<input type="text" class="form-control" name="editCode" [(ngModel)]="alertNotiCode">
						</div>
						<div class="col-lg-4 form-group">
							<label>Description :</label>
							<input type="text" class="form-control" name="editDescription" [(ngModel)]="alertNotiDesc">
						</div>
						<div class="col-lg-2 form-group">
							<span style="color: red;font-size: 14px;margin-left: 8px;" [hidden]="!errorMessege">Record not found</span>
						</div>
						<div class="col-lg-2 pull-left">
							<button id="alertNotiAdddPopUp" type="submit" class="btn btn-primary ml-10 pull-right" (click)="flushAlertNotiData(addPopUp)">New</button>
							<button type="submit" class="btn btn-primary  mr-41 pull-right" (click)="searchAlertNotiRecord(alertNotiCode, alertNotiDesc)">Search</button>
						</div>
					</div>
					<div class="db-result-section col-md-12">
						<div class="table-responsive">
							<table st-table="requestsList" style="margin-bottom:0px" class="table table-striped table-hover hdr-table hdr-sort" st-safe-src="rowCollection">
								<colgroup>
									<col width="15.2212389380531%" />
									<col width="33.2212389380531%" />
									<col width="33.2212389380531%" />
									<col width="15.2212389380531%" />
								</colgroup>
								<thead style="padding-right: 17px;">

									<tr>
										<th id="alert_code" class="sort-ascent" (click)="setOrder('alert_code')">Code</th>
										<th id="alert_category" class="sort-ascent" (click)="setOrder('alert_category')">Category</th>
										<th id="alert_description" class="sort-ascent" (click)="setOrder('alert_description')">Description</th>
										<th>Edit</th>
									</tr>
								</thead>
							</table>

							<div style="max-height:290px; overflow-y:auto" id="loadTable">
								<table id="tbl_dashboard" st-table="requestsList" class="table table-striped table-hover" st-safe-src="rowCollection">

									<colgroup>
										<col width="15.2212389380531%" />
										<col width="33.2212389380531%" />
										<col width="33.2212389380531%" />
										<col width="15.2212389380531%" />
									</colgroup>

									<tbody>
										<tr *ngFor="let req of gridDataOutput | orderBy:sortKey:reverse">
											<td>{{req.alert_code}}</td>
											<td>{{req.alert_category}}</td>
											<td>{{req.alert_description}}</td>
											<td>
												<a class="ico-edit" (click)="editAlertNotiData(req.alert_type, req.alert_category, req.alert_description, req.alert_code)"></a>
											</td>
											<!--<td><a class="ico-edit" (click)="editAlertNotiData( req.alert_code,req.alert_category,req.alert_description,req.alert_type)"></a></td> -->
										</tr>
									</tbody>
								</table>

							</div>
							<h3 style="text-align: center;" [hidden]="!errorFlag">Record Not Available</h3>
						</div>
					</div>
				</section>
				
			</div>
		</div>
	</div>
	<!--    Page Body Section    -->

	<!--    Page Footer Section  -->
	<footer class="text-center">&copy; Tech Mahindra - 2018</footer>
	<!--    Page Footer Section  -->

</div>